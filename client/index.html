<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="client/style.css" type="text/css"/>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no">
    <title>svoGAME</title>
    <!-- <script src="https://telegram.org/js/telegram-web-app.js"></script> -->
</head>
<body>
    <div id="loading-screen">
        Loading5...
    </div>

    <canvas id="canvas"></canvas>
    <div id="bar">
        <h1 id="money">Money: 10</h1>
        <button id="open-shop">
            Shop
        </button>
        <button id="open-stash">
            Stash
        </button>
        <button id="open-orders">
            Orders
        </button>
        <button id="open-spin">
            Spin
        </button>
        <button id="booster">
            boost
        </button>
    </div>
    <div id="shop-wrap">
        <div id="shop">
            <div id="shop-bar">
                <button id="buy-building">здания</button>
                <button id="buy-plant">растеня</button>
                <button id="buy-animal">животные</button>
                <button id="buy-animalPen">загоны</button>
                <button id="buy-bush">кусты</button>
            </div>
            <div id="shop-list"></div>
        </div>
    </div>
    <div id="spin-wrap">
        <div id="spin">
            <div id="spin-bar">
                <button id="closeSpin">X</button>
            </div>
            <div class="spinwheel-wrap">
                <div id="spin-centered-content">
                    <button id="spin-button">Spin</button>
                    <span class="arrow"></span>
                    <div id="spin-container"></div>
                </div>
            </div>
        </div>
    </div>
    <div id="booster-menu-wrap">
        <div id="booster-menu">
            <div id="booster-menu-bar">
                <button id="close-booster-menu">X</button>
            </div>
            <div id="activ-boosters"></div>
            <div id="booster-list"></div>
        </div>
    </div>
    <div id="obstacle-menu-wrap">
        <div id="obstacle-menu">
            <div id="obstacle-menu-bar">
                <button id="close-obstacle-menu">X</button>
            </div>
            <button id="obstacle-button">Удалить</button>
            <h3 id="obstacle-price"></h3>
        </div>
    </div>
    <div id="stash-wrap">
        <div id="stash">
            <div id="stash-bar">
                <button id="closeStash">X</button>
            </div>
            <div id="stash-list"></div>
            <button id="upgrade-stash-button">Улучшить</button>
        </div>
    </div>
    <div id="orders-wrap">
        <div id="orders">
            <div id="orders-bar">
                <button id="closeOrders">X</button>
            </div>
            <div id="order-details"></div>
            <div id="orders-list"></div>
        </div>
    </div>

    <div id="building-menu-wrap">
        <div id="building-menu">
            <div id="building-menu-bar">
                <button id="close-building-menu">X</button>
            </div>
            <div id="building-visual">
                <img id="building-img">
                <div id="building-queue"></div>
            </div>
            <button id="upgrade-building">улучшить</button>
            <div id="building-menu-list"></div>
        </div>
    </div>
    <div id="animal-menu-wrap">
        <div id="animal-menu">
            <div id="animal-menu-bar">
                <button id="close-animal-menu">X</button>
            </div>
            <img id="animal-img">
            <h3 id="animal-timeToFinish"></h3>
            <div id="animal-process-line"></div>
        </div>
    </div>
    <div id="field-menu-wrap">
        <div id="field-menu">
            <div id="field-menu-bar">
                <button id="close-field-menu">X</button>
            </div>
            <div id="field-img-container">
                <img id="field-img">
                <img id="overlay-plant-img">
            </div>
            <h3 id="field-timeToFinish"></h3>
            <div id="field-process-line"></div>
            <div id="field-menu-list"></div>
        </div>
    </div>
    <div id="bush-menu-wrap">
        <div id="bush-menu">
            <button id="temp"></button>
            <div id="bush-menu-bar">
                <button id="close-bush-menu">X</button>
            </div>
            <img id="bush-img">
            <h3 id="bush-timeToFinish"></h3>
            <div id="bush-process-line"></div>
        </div>
    </div>
    <!-- <script>
        let tg = window.Telegram.WebApp;
        // Дальше вы можете использовать объект tg для взаимодействия с Telegram Web App
        fetch('https://farmgame-rclc.onrender.com/webapp-data', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    chat_id: tg.initDataUnsafe.user.id,
                    tg_data: tg
                })
        });
    </script>
    <script>
        Telegram.WebApp.ready();
        Telegram.WebApp.expand();
        document.addEventListener('touchmove', function(event) {
            event.preventDefault();
        }, { passive: false });
        // Prevent app from closing on scroll
        document.addEventListener('scroll', function(event) {
            Telegram.WebApp.expand();
        });

        // Обработка событий прокрутки
        Telegram.WebApp.onEvent('viewportChanged', function() {
            Telegram.WebApp.expand();
        });
    </script> -->
    <script src="client/init.js" type="module"></script>
</body>
</html>